<!DOCTYPE html>
<head>
  <style>
    body {
      background: beige;
    }

    canvas {
      display: none;
    }

    * {
      image-rendering: pixelated;
    }

    #img {
      width: calc(64px);
      height: calc(32px);
    }
  </style>
  <script type="module" src="./dist/app.js"></script>
</head>

<canvas id="bar" width="12" height="32"></canvas>
<canvas id="grid" width="12" height="8"></canvas>

<svg height="256">
  <defs>
    <pattern id="pt" width="12" height="8" patternUnits="userSpaceOnUse">
      <image id="s-grid"></image>
    </pattern>
    <mask id="mask">
      <rect fill="url(#pt)" width="12" height="256"></rect>
    </mask>
    <image id="s-bar" height="256"></image>
  </defs>

  <use href="#s-bar" mask="url(#mask)"></use>
</svg>
